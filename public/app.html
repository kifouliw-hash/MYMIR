<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tableau de bord â€” MyMÃ­r</title>
  <link rel="stylesheet" href="css/app.css">
  <script defer src="js/app.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>

  <!-- ğŸŒŠ ArriÃ¨re-plan animÃ© amÃ©liorÃ© -->
  <div class="background-waves"></div>
  <div class="background-overlay"></div>

  <!-- ======================= Tableau de bord principal ======================= -->
  <div class="dashboard">
    <!-- ====== Sidebar amÃ©liorÃ©e ====== -->
    <aside class="sidebar">
      <!-- Logo + Brand -->
      <div class="logo-section">
        <div class="logo-container">
          <img src="assets/logo/logo-mymir.png" alt="Logo MyMÃ­r" class="logo" />
          <div class="logo-glow"></div>
        </div>
        <h1 class="brand-name">MyMÃ­r</h1>
        <div class="brand-tagline">Intelligence StratÃ©gique</div>
      </div>

      <!-- Info utilisateur -->
      <div class="user-info-card">
        <div class="user-avatar">
          <span id="userInitials">â€”</span>
        </div>
        <div class="user-details">
          <p class="user-company" id="companyName">Chargement...</p>
          <span class="user-status">
            <span class="status-dot"></span>
            En ligne
          </span>
        </div>
      </div>

      <!-- Navigation interne -->
      <nav class="nav-section">
        <button class="nav-link active" data-section="home">
          <span class="nav-icon">ğŸ </span>
          <span class="nav-text">Accueil</span>
          <span class="nav-indicator"></span>
        </button>
        <button class="nav-link" data-section="analyse">
          <span class="nav-icon">ğŸ“Š</span>
          <span class="nav-text">Analyse</span>
          <span class="nav-indicator"></span>
        </button>
        <button class="nav-link" data-section="aide">
          <span class="nav-icon">ğŸ’¡</span>
          <span class="nav-text">Aide Ã  la rÃ©ponse</span>
          <span class="nav-indicator"></span>
        </button>
        <button class="nav-link" data-section="historique">
          <span class="nav-icon">ğŸ“œ</span>
          <span class="nav-text">Historique</span>
          <span class="nav-indicator"></span>
        </button>
        <button class="nav-link" data-section="profil">
          <span class="nav-icon">ğŸ‘¤</span>
          <span class="nav-text">Profil</span>
          <span class="nav-indicator"></span>
        </button>
      </nav>

      <!-- DÃ©connexion -->
      <div class="logout-section">
        <button class="logout-btn" id="logoutBtn">
          <span class="logout-icon">ğŸšª</span>
          <span>DÃ©connexion</span>
        </button>
      </div>
    </aside>

    <!-- ====== Contenu principal amÃ©liorÃ© ====== -->
    <main class="content">
      <!-- Header avec breadcrumb et actions -->
      <header class="content-header">
        <div class="breadcrumb">
          <span class="breadcrumb-item active" id="currentSection">Accueil</span>
        </div>
        <div class="header-actions">
          <button class="icon-btn notification-btn">
            <span class="icon">ğŸ””</span>
            <span class="badge">3</span>
          </button>
          <button class="icon-btn help-btn">
            <span class="icon">â“</span>
          </button>
        </div>
      </header>

      <!-- SECTION ACCUEIL -->
      <section id="home" class="section active">
        <div class="welcome-container">
          <div class="welcome-card glass-card">
            <div class="welcome-header">
              <h1 id="welcomeMessage" class="welcome-title">
                Bienvenue <span class="highlight">ğŸ‘‹</span>
              </h1>
              <p id="welcomeSubtext" class="welcome-subtitle">
                Heureux de vous revoir sur MyMÃ­r. PrÃªt Ã  optimiser vos appels d'offres ?
              </p>
            </div>
            
            <!-- Stats rapides -->
            <div class="quick-stats">
              <div class="stat-card">
                <div class="stat-icon">ğŸ“Š</div>
                <div class="stat-content">
                  <div class="stat-value" id="totalAnalyses">0</div>
                  <div class="stat-label">Analyses rÃ©alisÃ©es</div>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">â­</div>
                <div class="stat-content">
                  <div class="stat-value" id="avgScore">â€”</div>
                  <div class="stat-label">Score moyen</div>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">ğŸ¯</div>
                <div class="stat-content">
                  <div class="stat-value" id="successRate">â€”</div>
                  <div class="stat-label">Taux de succÃ¨s</div>
                </div>
              </div>
            </div>

            <!-- Actions rapides -->
            <div class="quick-actions">
              <button id="launchAnalyseBtn" class="primary-action-btn">
                <span class="btn-icon">ğŸš€</span>
                <span class="btn-content">
                  <span class="btn-title">Lancer une analyse</span>
                  <span class="btn-subtitle">Analysez un nouveau DCE</span>
                </span>
              </button>
              <button class="secondary-action-btn">
                <span class="btn-icon">ğŸ“‚</span>
                <span class="btn-text">Voir l'historique</span>
              </button>
            </div>
          </div>

          <!-- ActivitÃ© rÃ©cente -->
          <div class="recent-activity glass-card">
            <h3 class="section-title">
              <span class="title-icon">âš¡</span>
              ActivitÃ© rÃ©cente
            </h3>
            <div class="activity-list" id="activityList">
              <div class="activity-item">
                <div class="activity-icon">ğŸ“„</div>
                <div class="activity-content">
                  <p class="activity-text">Aucune activitÃ© rÃ©cente</p>
                  <span class="activity-time">Commencez une analyse</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- SECTION ANALYSE -->
      <section id="analyse" class="section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="title-icon">ğŸ“Š</span>
            Analyse de vos opportunitÃ©s
          </h2>
          <p class="section-description">
            Importez un DCE ou document d'appel d'offres â€” MyMÃ­r dÃ©tecte les critÃ¨res essentiels et vous guide dans votre rÃ©ponse.
          </p>
        </div>

        <!-- Zone d'upload amÃ©liorÃ©e -->
        <div class="upload-container">
          <div class="upload-area glass-card" id="uploadArea">
            <div class="upload-icon">
              <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2L12 14M12 2L8 6M12 2L16 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M3 15V18C3 19.6569 4.34315 21 6 21H18C19.6569 21 21 19.6569 21 18V15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
            <h3 class="upload-title">Glissez votre document ici</h3>
            <p class="upload-subtitle">ou cliquez pour sÃ©lectionner un fichier</p>
            <p class="upload-formats">Formats acceptÃ©s : PDF, DOC, DOCX</p>
            <input type="file" id="fileInput" accept=".pdf,.doc,.docx" hidden>
            <button class="upload-btn">
              <span>ğŸ“</span>
              Choisir un fichier
            </button>
          </div>
        </div>

        <!-- Animation de chargement amÃ©liorÃ©e -->
        <div class="loading-container hidden" id="loading">
          <div class="loading-spinner">
            <div class="spinner-ring"></div>
            <div class="spinner-ring"></div>
            <div class="spinner-ring"></div>
          </div>
          <p class="loading-text">Analyse du dossier en cours...</p>
          <div class="loading-progress">
            <div class="progress-bar">
              <div class="progress-fill" id="progressFill"></div>
            </div>
            <span class="progress-text" id="progressText">0%</span>
          </div>
        </div>

        <!-- Zone de rÃ©sultat amÃ©liorÃ©e -->
        <div class="result-container hidden" id="resultArea"></div>
      </section>

      <!-- SECTION AIDE -->
      <section id="aide" class="section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="title-icon">ğŸ’¡</span>
            Aide Ã  la rÃ©ponse
          </h2>
          <p class="section-description">
            Optimisez vos documents de rÃ©ponse grÃ¢ce Ã  nos recommandations expertes.
          </p>
        </div>

        <div class="help-grid">
          <div class="help-card glass-card">
            <div class="help-card-icon">ğŸ“</div>
            <h3 class="help-card-title">Lettre de candidature</h3>
            <p class="help-card-description">
              ModÃ¨le de lettre professionnelle et personnalisable selon votre entreprise.
            </p>
            <button class="help-card-btn">
              <span>GÃ©nÃ©rer un modÃ¨le</span>
              <span class="btn-arrow">â†’</span>
            </button>
          </div>

          <div class="help-card glass-card">
            <div class="help-card-icon">ğŸ—ï¸</div>
            <h3 class="help-card-title">Description des moyens</h3>
            <p class="help-card-description">
              RÃ©digez automatiquement la partie sur vos moyens humains et matÃ©riels.
            </p>
            <button class="help-card-btn">
              <span>CrÃ©er un descriptif</span>
              <span class="btn-arrow">â†’</span>
            </button>
          </div>

          <div class="help-card glass-card">
            <div class="help-card-icon">âœ…</div>
            <h3 class="help-card-title">Check-list finale</h3>
            <p class="help-card-description">
              VÃ©rifiez que votre dossier est complet avant le dÃ©pÃ´t.
            </p>
            <button class="help-card-btn">
              <span>Voir la check-list</span>
              <span class="btn-arrow">â†’</span>
            </button>
          </div>
        </div>
      </section>

      <!-- SECTION HISTORIQUE -->
      <section id="historique" class="section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="title-icon">ğŸ“</span>
            Historique de vos analyses
          </h2>
          <div class="header-actions">
            <button class="filter-btn">
              <span>ğŸ”</span>
              Filtrer
            </button>
            <button class="export-btn">
              <span>ğŸ“¥</span>
              Exporter
            </button>
          </div>
        </div>

        <div class="table-container glass-card">
          <table class="history-table">
            <thead>
              <tr>
                <th>Date</th>
                <th>Nom du marchÃ©</th>
                <th>Score</th>
                <th>Statut</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="historyBody">
              <tr>
                <td>10/10/2025</td>
                <td>RÃ©habilitation Ã©cole communale</td>
                <td>
                  <div class="score-badge score-good">88%</div>
                </td>
                <td>
                  <span class="status-badge status-success">âœ”ï¸ TerminÃ©</span>
                </td>
                <td>
                  <div class="action-buttons">
                    <button class="action-btn" title="TÃ©lÃ©charger">ğŸ“„</button>
                    <button class="action-btn" title="Voir">ğŸ‘ï¸</button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- SECTION PROFIL -->
      <section id="profil" class="section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="title-icon">ğŸ‘¤</span>
            Profil de l'entreprise
          </h2>
          <div class="profile-actions">
            <button id="editProfileBtn" class="edit-btn">
              <span>âœï¸</span>
              Modifier le profil
            </button>
            <button id="saveProfileBtn" class="save-btn hidden">
              <span>ğŸ’¾</span>
              Enregistrer
            </button>
          </div>
        </div>

        <!-- Vue profil -->
        <div class="profile-view glass-card" id="profileView">
          <div class="profile-grid">
            <div class="profile-item">
              <label class="profile-label">Entreprise</label>
              <p class="profile-value" id="p_company">â€”</p>
            </div>
            <div class="profile-item">
              <label class="profile-label">Email</label>
              <p class="profile-value" id="p_email">â€”</p>
            </div>
            <div class="profile-item">
              <label class="profile-label">Pays</label>
              <p class="profile-value" id="p_country">â€”</p>
            </div>
            <div class="profile-item">
              <label class="profile-label">Secteur</label>
              <p class="profile-value" id="p_sector">â€”</p>
            </div>
            <div class="profile-item">
              <label class="profile-label">Sous-secteur</label>
              <p class="profile-value" id="p_soussecteur">â€”</p>
            </div>
            <div class="profile-item">
              <label class="profile-label">Effectif</label>
              <p class="profile-value" id="p_effectif">â€”</p>
            </div>
            <div class="profile-item">
              <label class="profile-label">Chiffre d'affaires</label>
              <p class="profile-value" id="p_revenue">â€”</p>
            </div>
            <div class="profile-item">
              <label class="profile-label">Certifications</label>
              <p class="profile-value" id="p_certifications">â€”</p>
            </div>
            <div class="profile-item full-width">
              <label class="profile-label">Site web / LinkedIn</label>
              <p class="profile-value" id="p_siteweb">â€”</p>
            </div>
            <div class="profile-item full-width">
              <label class="profile-label">Description</label>
              <p class="profile-value" id="p_description">â€”</p>
            </div>
          </div>
        </div>

        <!-- Formulaire Ã©dition -->
        <form id="profileEditForm" class="hidden profile-form glass-card">
          <div class="form-row">
            <div class="form-group">
              <label>Entreprise</label>
              <input type="text" id="f_companyName" placeholder="Nom de l'entreprise">
            </div>
            <div class="form-group">
              <label>Pays</label>
              <input type="text" id="f_country" placeholder="Pays">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Secteur</label>
              <input type="text" id="f_sector" placeholder="Secteur d'activitÃ©">
            </div>
            <div class="form-group">
              <label>Sous-secteur (optionnel)</label>
              <input type="text" id="f_soussecteur" placeholder="Sous-secteur">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Effectif</label>
              <select id="f_effectif">
                <option>1â€“5</option>
                <option>6â€“20</option>
                <option>21â€“50</option>
                <option>51â€“100</option>
                <option>+100</option>
              </select>
            </div>
            <div class="form-group">
              <label>Chiffre d'affaires annuel</label>
              <select id="f_revenue">
                <option value="">SÃ©lectionner</option>
                <option>Moins de 100 000 â‚¬</option>
                <option>100 000 â‚¬ â€“ 500 000 â‚¬</option>
                <option>500 000 â‚¬ â€“ 2 000 000 â‚¬</option>
                <option>2 000 000 â‚¬ â€“ 10 000 000 â‚¬</option>
                <option>Plus de 10 000 000 â‚¬</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Certifications</label>
              <input type="text" id="f_certifications" placeholder="Ex : ISO 9001, Qualibat">
            </div>
            <div class="form-group">
              <label>Site web / LinkedIn</label>
              <input type="text" id="f_siteweb" placeholder="https://...">
            </div>
          </div>

          <div class="form-row full-width">
            <div class="form-group">
              <label>Description de l'entreprise</label>
              <textarea id="f_description" rows="3" placeholder="PrÃ©sentez briÃ¨vement votre entreprise..."></textarea>
            </div>
          </div>
        </form>
      </section>
    </main>
  </div>
</body>
</html>