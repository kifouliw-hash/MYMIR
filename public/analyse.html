<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Analyse — MyMír</title>
  <link rel="stylesheet" href="css/app.css">
</head>
<body>

  <div class="background-waves"></div>

  <div class="dashboard">
    <!-- ====== Sidebar ====== -->
    <aside class="sidebar">
      <div>
        <div class="logo-section">
          <img src="assets/logo/logo-mymir.png" alt="Logo MyMír" class="logo">
          <h1>MyMír</h1>
        </div>
        <div class="user-info" id="companyName">Entreprise</div>
        <nav>
          <button class="nav-link" onclick="location.href='home.html'">🏠 Accueil</button>
          <button class="nav-link active">📊 Analyse</button>
          <button class="nav-link" onclick="location.href='aide.html'">💡 Aide à la réponse</button>
          <button class="nav-link" onclick="location.href='historique.html'">📜 Historique</button>
          <button class="nav-link" onclick="location.href='profil.html'">👤 Profil</button>
        </nav>
      </div>
      <button class="logout-btn" onclick="location.href='login.html'">🔓 Déconnexion</button>
    </aside>

    <!-- ====== Contenu principal ====== -->
    <main class="content">
      <section class="analysis-container">
        <h2 style="text-align:center; color:var(--gold); margin-bottom:20px;">
          Analyse intelligente de vos appels d’offres 📂
        </h2>
        <p style="text-align:center; color:var(--text-dim); margin-bottom:40px;">
          Importez un DCE ou document d’appel d’offres — MyMír détecte les critères essentiels
          et vous guide dans votre réponse.
        </p>

        <!-- Zone d’import -->
        <div class="upload-area" id="uploadArea">
          <p>Glissez votre dossier DCE ici ou cliquez pour le sélectionner.</p>
          <input type="file" id="fileInput" accept=".pdf,.doc,.docx" hidden />
          <button class="analysis-btn" onclick="document.getElementById('fileInput').click()">
            Choisir un fichier
          </button>
        </div>

        <!-- Zone de résultat -->
        <div id="resultBox" class="result-area hidden">
          <h3>🧠 Résultat de l’analyse</h3>
          <p><strong>Type :</strong> Marché public — Fournitures</p>
          <p><strong>Date limite :</strong> 18 novembre 2025</p>
          <p><strong>Documents requis :</strong> DC1, DC2, Mémoire technique</p>
          <p><strong>Score de conformité :</strong> 92%</p>
          <p><strong>Niveau de risque :</strong> Modéré</p>

          <div class="analysis-btns">
            <button class="analysis-btn">📄 Télécharger le rapport</button>
            <button class="analysis-btn" onclick="resetAnalysis()">🔁 Nouvelle analyse</button>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
    const uploadArea = document.getElementById("uploadArea");
    const fileInput = document.getElementById("fileInput");
    const resultBox = document.getElementById("resultBox");

    uploadArea.addEventListener("click", () => fileInput.click());
    fileInput.addEventListener("change", () => simulateAnalysis());

    function simulateAnalysis() {
      uploadArea.innerHTML = "<p>Analyse du document en cours...</p>";
      setTimeout(() => {
        uploadArea.style.display = "none";
        resultBox.classList.remove("hidden");
      }, 2000);
    }

    function resetAnalysis() {
      resultBox.classList.add("hidden");
      uploadArea.style.display = "block";
      uploadArea.innerHTML = `
        <p>Glissez votre dossier DCE ici ou cliquez pour le sélectionner.</p>
        <input type="file" id="fileInput" accept=".pdf,.doc,.docx" hidden />
        <button class="analysis-btn" onclick="document.getElementById('fileInput').click()">
          Choisir un fichier
        </button>
      `;
      document.getElementById("fileInput").addEventListener("change", simulateAnalysis);
    }
  </script>

</body>
</html>
